!function(a){"use strict";var b=a.module("ng.cork.pubsub",["ng.cx.generate"]);b.service("corkPubsub",["cxGenerate",function(a){function b(a){for(var b in d[a])return!1;return!0}var c=this,d={},e={};c.subscribe=function(b,c,f){var g=a.uuid();return d[b]=d[b]||{},d[b][g]={fn:c,ctx:f},e[g]=b,g},c.publish=function(){var a=[].slice.call(arguments),b=a[0];if(d[b]){var c;for(var e in d[b])c=d[b][e],c.fn.apply(c.ctx,a)}},c.unsubscribe=function(a){var c=e[a];c&&(delete d[c][a],b(c)&&delete d[c])},c.unsubscribeArr=function(a){for(var b=0;b<a.length;b++)c.unsubscribe(a[b])},c.unsubscribeObj=function(a){for(var b in a)c.unsubscribe(a[b])}}])}(angular);